<!DOCTYPE html>
<html>
  <head>
    <title>Food Items</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="static/food.css" />
    <link rel="stylesheet" href="static/navbar.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  </head>
  <body>
    <div class="navcontainer">
      <div class="row">
        <div class="col-2"></div>
        <nav class="navbar navbar-expand-lg bg-light col mt-4">
          <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0 text-center">
                <li class="nav-item">
                  <a class="nav-link">DelicaDeza</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="index.html">home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="about.html">about</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="portfolio.html">portfolio</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="contact.html">contact</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <div class="col-2"></div>
      </div>
    <div class="dropdown" style="margin-top: 20px">
      <button
        class="btn btn-secondary dropdown-toggle"
        type="button"
        id="dropdownMenuButton"
        data-toggle="dropdown"
        aria-haspopup="true"
        aria-expanded="false"
        style="width: 35%"
      >
        Select Canteen
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        {% for canteen1 in canteen %}
        <a class="dropdown-item" href="#">{{ canteen1.name }}</a>
        {% endfor %}
      </div>
    </div>

    <div class="container">
      {% for canteen1 in canteen %}
      <div
        id="{{ canteen1.name|replace(' ', '_') }}"
        class="food-list"
        style="display: none"
      >
        {% for food in food_items %} {% if food.canteensid ==
        canteen1.idcanteens %}
        <div class="food-item">
          <div class="food-image-overlay">
            <img
              src="{{ food.image }}"
              alt="{{ food.name }}"
              class="food-image"
            />
          </div>
          <h3 class="food-name">{{ food.name }}</h3>
          <p class="food-price">Price: {{ food.price }}</p>
          <div class="food-quantity">
            <button
              class="btn btn-primary btn-add"
              data-max="{{ food.quantity }}"
            >
              Add
            </button>
            <div
              class="input-group input-group-sm input-quantity"
              style="display: none"
            >
              <div class="input-group-prepend">
                <button class="btn btn-secondary btn-minus" type="button">
                  -
                </button>
              </div>
              <input
                type="text"
                class="form-control input-quantity-value"
                value="1"
                readonly
              />
              <div class="input-group-append">
                <button class="btn btn-secondary btn-plus" type="button">
                  +
                </button>
              </div>
            </div>
          </div>
        </div>
        {% endif %} {% endfor %}
      </div>
      {% endfor %}
    </div>

  
    <script>
      $(document).ready(function () {
        $(".dropdown-item").on("click", function () {
          var canteenName = $(this).text().replace(/\s+/g, "_");
          $(".dropdown-toggle").text($(this).text());
          $(".food-list").hide();
          $("#" + canteenName).show();
        });
      });
      $(document).ready(function () {
  $(".btn-add").on("click", function () {
    var maxQuantity = parseInt($(this).data("max"));
    $(this).hide();
    var quantityInput = $(this).siblings(".input-quantity");
    quantityInput.show();
    var quantityValue = quantityInput.find(".input-quantity-value");
    var minusButton = quantityInput.find(".btn-minus");
    var plusButton = quantityInput.find(".btn-plus");
    var quantity = parseInt(quantityValue.val());
    minusButton.prop("disabled", quantity <= 1);
    plusButton.prop("disabled", quantity >= maxQuantity);
  });

  $(".btn-minus").on("click", function () {
    var quantityInput = $(this).closest(".input-quantity");
    var quantityValue = quantityInput.find(".input-quantity-value");
    var minusButton = quantityInput.find(".btn-minus");
    var plusButton = quantityInput.find(".btn-plus");
    var quantity = parseInt(quantityValue.val());
    quantity--;
    quantityValue.val(quantity);
    minusButton.prop("disabled", quantity <= 0);
    plusButton.prop("disabled", quantity >= parseInt(quantityInput.siblings(".btn-add").data("max")));
  });

  $(".btn-plus").on("click", function () {
    var quantityInput = $(this).closest(".input-quantity");
    var quantityValue = quantityInput.find(".input-quantity-value");
    var minusButton = quantityInput.find(".btn-minus");
    var plusButton = quantityInput.find(".btn-plus");
    var quantity = parseInt(quantityValue.val());
    quantity++;
    quantityValue.val(quantity);
    minusButton.prop("disabled", quantity <= 1);
    plusButton.prop("disabled", quantity >= parseInt(quantityInput.siblings(".btn-add").data("max")));
  });
});


    </script>
  </body>
</html>
